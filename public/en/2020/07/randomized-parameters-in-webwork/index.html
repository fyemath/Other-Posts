<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Randomized Parameters in WebWork | </title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <link href="/css/customized.css" type="text/css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>

<script src="/js/thm-numbering.js"></script>
<script src="/js/article-meta-height.js"></script>
<script src="/js/background-by-season.js"></script>


<link href="/css/syntax.css" type="text/css" rel="stylesheet"/>

<link href="/css/fonts-en-cn.css" type="text/css" rel="stylesheet"/>

<link href="/css/css-doodle.css" type="text/css" rel="stylesheet"/>
<script src="https://unpkg.com/css-doodle@0.13.2/css-doodle.min.js"></script>



<link rel="preload" as="font" href="/css/fonts/noto-sans/noto-sans-v11-latin_greek-regular.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="/css/fonts/noto-sans/noto-sans-v11-latin_greek-regular.woff" type="font/woff" crossorigin="anonymous">
<link rel="preload" as="font" href="/css/fonts/noto-sans/noto-sans-v11-latin_greek-italic.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="/css/fonts/noto-sans/noto-sans-v11-latin_greek-italic.woff" type="font/woff" crossorigin="anonymous">
<link rel="preload" as="font" href="/css/fonts/noto-sans/noto-sans-v11-latin_greek-700.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="/css/fonts/noto-sans/noto-sans-v11-latin_greek-700.woff" type="font/woff" crossorigin="anonymous">
<link rel="preload" as="font" href="/css/fonts/noto-sans/noto-sans-v11-latin_greek-700italic.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="/css/fonts/noto-sans/noto-sans-v11-latin_greek-700italic.woff" type="font/woff" crossorigin="anonymous">



<link rel="preload" as="font" href="/css/fonts/noto-sans-sc/noto-sans-sc-v12-chinese-simplified-regular.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="/css/fonts/noto-sans-sc/noto-sans-sc-v12-chinese-simplified-regular.woff" type="font/woff" crossorigin="anonymous">
<link rel="preload" as="font" href="/css/fonts/noto-sans-sc/noto-sans-sc-v12-chinese-simplified-700.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="/css/fonts/noto-sans-sc/noto-sans-sc-v12-chinese-simplified-700.woff" type="font/woff" crossorigin="anonymous">

<link rel="preload" as="font" href="/css/fonts/noto-serif-sc/noto-serif-sc-v8-chinese-simplified-regular.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="/css/fonts/noto-serif-sc/noto-serif-sc-v8-chinese-simplified-regular.woff" type="font/woff" crossorigin="anonymous">
<link rel="preload" as="font" href="/css/fonts/noto-serif-sc/noto-serif-sc-v8-chinese-simplified-700.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="/css/fonts/noto-serif-sc/noto-serif-sc-v8-chinese-simplified-700.woff" type="font/woff" crossorigin="anonymous">





<script>
  $(':root').css('--header-height', '0 px');

  $(document).ready(divHeight);
  $(window).on('resize', divHeight);

  function divHeight() {
    var dheight = $(".header h1").outerHeight(true)  + "px";
    document.documentElement.style.setProperty('--header-height', dheight);
  }
</script>

  </head>

  

  <body class="en">
    <nav>
    <ul class="menu">
    
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/en/">Blog</a></li>
      
      <li><a href="/en/categories/">Categories</a></li>
      
      <li><a href="/en/tags/">Tags</a></li>
      
      <li><a href="/cn/">中文</a></li>
      
    </ul>
    </nav>
    <hr/>




<div class="page">

<div class="article-title">
  <css-doodle use="var(--rule)" as-bg="" click-to-update=""></css-doodle>
  <div class="article-meta">
    <h1><span class="title">Randomized Parameters in WebWork</span></h1>
    <h2 class="author">
    
        Fei Ye
    
    </h2>
    <h3 class="date">2020/07/10</h3>
  </div>
</div>

<main>
<p>WeBWorK uses of the language perl with extra packages to author questions.</p>
<p>A parameter/variable in Perl starts with &ldquo;$&rdquo;, for example <code>$a</code>, <code>$integer</code>, <code>$var</code>.</p>
<p>Supported by the <code>PGrandom</code> package, in WeBWork random variables can be defined.</p>
<h2 id="one-random-number">One random number</h2>
<ul>
<li>
<p>Generates a random number between the initial and final values in steps of increment.</p>
<div class="highlight"><pre class="chroma"><code class="language-perl" data-lang="perl"><span class="n">random</span><span class="p">(</span> <span class="nv">$initial</span><span class="p">,</span> <span class="nv">$final</span><span class="p">,</span> <span class="nv">$increment</span> <span class="p">)</span>
</code></pre></div><p>If the increment is 0 or less, then random chooses a floating point number between <code>$initial</code> and <code>$final</code> using a small increment.<code>$increment</code> defaults to 1, if it is not supplied as an argument.</p>
<p>Example: <code>$m=random(-2, 20, 3);</code> generates a number among -2, 1, 4, &hellip;, 19 and stores it in the variable <code>$m</code>. Because the step is 3.</p>
</li>
<li>
<p>Generates a random number between 0 and $final.</p>
<div class="highlight"><pre class="chroma"><code class="language-perl" data-lang="perl"><span class="nb">rand</span><span class="p">(</span> <span class="nv">$final</span> <span class="p">)</span>
</code></pre></div><p><code>$final</code> defaults to 1 if that argument is omitted.</p>
<p>Example: <code>$r = rand(1);</code> generates a number between 0 and 1 and store it in the variable <code>$r</code>.</p>
</li>
<li>
<p>Generate a nonzero random number between the initial and final values.</p>
<div class="highlight"><pre class="chroma"><code class="language-perl" data-lang="perl"><span class="n">non_zero_random</span><span class="p">(</span> <span class="nv">$initial</span><span class="p">,</span> <span class="nv">$final</span> <span class="p">);</span>
</code></pre></div><p>Example: <code>$coef = non_zero_random(2,7);</code> generates a nonzero integer between 2 and 7 and stores it in the variable <code>$coef</code>.</p>
</li>
</ul>
<h2 id="two-or-more-different-random-numbers">Two or more different random numbers</h2>
<ul>
<li>
<p>Generate two or more different random numbers</p>
<div class="highlight"><pre class="chroma"><code class="language-perl" data-lang="perl"><span class="k">do</span> <span class="p">{</span> <span class="nv">$new</span> <span class="o">=</span> <span class="n">random</span><span class="p">(</span><span class="nv">$initial</span><span class="p">,</span> <span class="nv">$final</span><span class="p">);</span> <span class="p">}</span> <span class="k">until</span> <span class="p">(</span> <span class="nv">$new</span> <span class="o">!=</span> <span class="nv">$old</span> <span class="p">);</span>
</code></pre></div><p>$old is a predefined random number.</p>
<p>Example: <code>do { $new = random(1, 6); } until ( $new != 3 );</code> generates a number between 1 and 6 but not equal to 3 and store it in the variable <code>$new</code>.</p>
</li>
<li>
<p>Generate a third different random number number</p>
<div class="highlight"><pre class="chroma"><code class="language-perl" data-lang="perl"><span class="k">do</span> <span class="p">{</span> <span class="nv">$third</span><span class="o">=</span><span class="n">random</span><span class="p">(</span> <span class="nv">$initial</span><span class="p">,</span> <span class="nv">$final</span> <span class="p">);</span> <span class="p">}</span> <span class="k">until</span> <span class="p">((</span> <span class="nv">$third</span> <span class="o">!=</span> <span class="nv">$first</span> <span class="p">)</span> <span class="ow">and</span> <span class="p">(</span> <span class="nv">$third</span> <span class="o">!=</span> <span class="nv">$second</span> <span class="p">));</span>
</code></pre></div><p><code>$first</code> and <code>second</code> are predefined random numbers.</p>
<p>Example: <code>do { $third = random(1, 6); } until (($third != 3) and ($third != 5);</code> generates a number between 1 and 6 but not equal to 3 and 5, and store it in the variable <code>$third</code>.</p>
</li>
</ul>
<h2 id="random-variables">Random variables</h2>
<p>To generate a random variable, we can use the <code>RandomVariableName</code> function supported by the package <code>PCCmacros.pl</code>.</p>
<ul>
<li>
<p>Generate one random variable.</p>
<div class="highlight"><pre class="chroma"><code class="language-perl" data-lang="perl"><span class="nv">$var</span> <span class="o">=</span> <span class="n">RandomVariableName</span><span class="p">(</span> <span class="n">type</span><span class="o">=&gt;</span><span class="n">variable</span> <span class="p">);</span>
<span class="n">Context</span><span class="p">()</span><span class="o">-&gt;</span><span class="nn">variables</span><span class="o">-&gt;</span><span class="n">are</span><span class="p">(</span> <span class="nv">$var</span><span class="o">=&gt;</span><span class="s">&#39;Real&#39;</span> <span class="p">);</span>
</code></pre></div><p>In order to use the variable <code>$var</code> in formula, the second line is necessary.</p>
</li>
<li>
<p>Generate two different random variables</p>
<div class="highlight"><pre class="chroma"><code class="language-perl" data-lang="perl"><span class="nv">$vary</span> <span class="o">=</span> <span class="n">RandomVariableName</span><span class="p">(</span><span class="n">type</span><span class="o">=&gt;</span><span class="n">variable</span><span class="p">);</span>
<span class="k">do</span> <span class="p">{</span> <span class="nv">$vary</span> <span class="o">=</span> <span class="n">RandomVariableName</span><span class="p">(</span><span class="n">type</span><span class="o">=&gt;</span><span class="n">variable</span><span class="p">)</span> <span class="p">}</span> <span class="k">until</span> <span class="p">(</span> <span class="nv">$vary</span> <span class="o">!=</span> <span class="nv">$varx</span> <span class="p">);</span>
<span class="n">Context</span><span class="p">()</span><span class="o">-&gt;</span><span class="nn">variables</span><span class="o">-&gt;</span><span class="n">add</span><span class="p">(</span> <span class="nv">$vary</span><span class="o">=&gt;</span><span class="s">&#39;Real&#39;</span> <span class="p">);</span>
</code></pre></div><p><code>$varx</code> is a predefined variable. Note that <code>add()</code> should be used for extra variables.</p>
<p>Example: The following codes will generate two different variables <code>$varx</code> and <code>$vary</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-perl" data-lang="perl"><span class="nv">$varx</span> <span class="o">=</span> <span class="n">RandomVariableName</span><span class="p">(</span> <span class="n">type</span><span class="o">=&gt;</span><span class="n">variable</span> <span class="p">);</span>
<span class="n">Context</span><span class="p">()</span><span class="o">-&gt;</span><span class="nn">variables</span><span class="o">-&gt;</span><span class="n">are</span><span class="p">(</span> <span class="nv">$vars</span><span class="o">=&gt;</span><span class="s">&#39;Real&#39;</span> <span class="p">);</span>
<span class="k">do</span> <span class="p">{</span> <span class="nv">$vary</span> <span class="o">=</span> <span class="n">RandomVariableName</span><span class="p">(</span><span class="n">type</span><span class="o">=&gt;</span><span class="n">variable</span> <span class="p">)}</span> <span class="k">until</span> <span class="p">(</span> <span class="nv">$vary</span> <span class="o">!=</span> <span class="nv">$varx</span> <span class="p">);</span>
<span class="n">Context</span><span class="p">()</span><span class="o">-&gt;</span><span class="nn">variables</span><span class="o">-&gt;</span><span class="n">add</span><span class="p">(</span> <span class="nv">$vary</span><span class="o">=&gt;</span><span class="s">&#39;Real&#39;</span> <span class="p">);</span>
</code></pre></div></li>
</ul>
<h2 id="a-random-element-from-a-list">A random element from a list</h2>
<ul>
<li>
<p>Randomizing from a list</p>
<div class="highlight"><pre class="chroma"><code class="language-perl" data-lang="perl"><span class="n">list_random</span><span class="p">(</span> <span class="nv">$x1</span><span class="p">,</span> <span class="nv">$x2</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="nv">$xn</span> <span class="p">);</span>
</code></pre></div><p>The element <code>$xi</code> can be a number, a letter or an expression.</p>
<p>Example: <code>$Days = list_random(28, 29, 30, 31)</code> randomly assigns a number from the list to the variable <code>$Days</code>.</p>
</li>
<li>
<p>Randomizing from an array</p>
<div class="highlight"><pre class="chroma"><code class="language-perl" data-lang="perl"><span class="nv">@array</span> <span class="o">=</span> <span class="p">(</span> <span class="nv">$elem1</span><span class="p">,</span> <span class="nv">$elem2</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="nv">$elemn</span> <span class="p">);</span>
<span class="nv">$arrayLength</span> <span class="o">=</span> <span class="nb">scalar</span><span class="p">(</span> <span class="nv">@array</span> <span class="p">);</span>
<span class="nv">$randIndex</span> <span class="o">=</span> <span class="n">random</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nv">$arrayLength</span><span class="p">);</span>
<span class="nv">$var</span> <span class="o">=</span> <span class="nv">$array</span><span class="p">[</span> <span class="nv">$randIndex</span> <span class="p">];</span>
</code></pre></div><p>Example: Randomly assigns a number or the letter $x$ from the list to the variable <code>$Days</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-perl" data-lang="perl"><span class="nv">@array</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">);</span>
<span class="nv">$arrayLength</span> <span class="o">=</span> <span class="nb">scalar</span><span class="p">(</span> <span class="nv">@array</span> <span class="p">);</span>
<span class="nv">$randIndex</span> <span class="o">=</span> <span class="n">random</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nv">$arrayLength</span><span class="p">);</span>
<span class="nv">$Days</span> <span class="o">=</span> <span class="nv">$array</span><span class="p">[</span> <span class="nv">$randIndex</span> <span class="p">];</span>
</code></pre></div></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li><a href="https://webwork.maa.org/wiki/Authors">https://webwork.maa.org/wiki/Authors</a></li>
<li><a href="https://www.uleth.ca/sites/default/files/2017/09/problemgenerationwithwebwork.pdf">https://www.uleth.ca/sites/default/files/2017/09/problemgenerationwithwebwork.pdf</a></li>
<li><a href="https://webwork.maa.org/moodle/mod/forum/discuss.php?d=2964">https://webwork.maa.org/moodle/mod/forum/discuss.php?d=2964</a></li>
<li><a href="https://webwork.maa.org/mediawiki_new/images/a/ab/WeBWorK_Problem_Authoring_Tutorial.pdf">https://webwork.maa.org/mediawiki_new/images/a/ab/WeBWorK_Problem_Authoring_Tutorial.pdf</a></li>
</ul>

</main>


  <hr>
  <p class="update"> Edited on 2020/07/19</p>
  <hr>


<section class="comments">
  <script src="https://utteranc.es/client.js"
  repo="fyemath/Other-blogs-comments"
  issue-term="pathname"
  theme="github-light"
  crossorigin="anonymous"
  async>
</script>
</section>


</div>

<hr>
  <footer>
  
  © <a href="https://yfei.page">Fei Ye</a> 2018-2020 | <a href="https://github.com/fyemath">Github</a>
  
  </footer>
  </body>
  


<script src="/js/check-for-tex.js" defer></script>
<script async src="https://yihui.org/js/center-img.js"></script>








</html>

