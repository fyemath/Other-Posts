<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The tikzDevice for R Users | </title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <link rel="stylesheet" type="text/css" href="css/customized.css"/>
  </head>

  

  <body class="en">
    <nav>
    <ul class="menu">
    
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/en/">Blog</a></li>
      
      <li><a href="/en/categories/">Categories</a></li>
      
      <li><a href="/en/tags/">Tags</a></li>
      
      <li><a href="/cn/">中文</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">The tikzDevice for R Users</span></h1>

<h2 class="author">

    Fei Ye

</h2>
<h2 class="date">2019/08/23</h2>
</div>

<main>
<h2 id="what-is-the-tikzdevice">What is the tikzDevice</h2>
<p>The <a href="https://www.daqana.org/tikzDevice/">tikzDevice</a> is a R package that transforms R plots into $\LaTeX$ codes blocks. Those $\LaTeX$ codes can be complied by pdfLaTeX (or other $\TeX$ engines) with the help of <a href="https://en.wikipedia.org/wiki/PGF/TikZ">TikZ — a graphics package for TeX and friends written by Till Tantau</a>. On the website <a href="http://www.texample.net/tikz/examples/">$\TeX$ample</a> you may find many beautiful pictures created using TikZ/PGF (TikZ is a set of higher-level macros built on top of PGF).</p>
<p>There are many packages that extends or are built on top of TikZ and PGF. For example, <a href="https://en.wikipedia.org/wiki/Beamer_(LaTeX)">Beamer</a>- a $\LaTeX$ class for creating presentations and <a href="https://ctan.org/pkg/pgfplots">Pgfplots</a> - a $\LaTeX$ package that creates high-quality function plots in normal or logarithmic scaling.</p>
<h2 id="requirements-to-use-tikzdevice-with-r">Requirements to use tikzDevice with R</h2>
<p>R, RStudio and some R plotting packages are necessary for using tikzDevice.</p>
<p>Since tikzDevice only transforms R plots into $\LaTeX$, to see the output in picture, one also needs a TeX system (such as <a href="https://tug.org/texlive/">TeXLive</a> or <a href="https://yihui.name/tinytex/">TinyTeX</a>) and the TikZ package.</p>
<p>For R users, TinyTeX may be a better choice (see Yihui&rsquo;s blog on <a href="https://yihui.name/tinytex/#for-r-users">how to install TinyTeX</a>).</p>
<h2 id="examples-on-how-to-use-tikzdevice">Examples on how to use tikzDevice</h2>
<p>There are two way to use tikzDevice.</p>
<p>One way is to produce standalone a tex file and then produce the picture (compile the tex file within your favoriate TeX editor or convert using the R function <a href="https://www.rdocumentation.org/packages/tools/versions/3.6.1/topics/texi2dvi">texi2dvi</a>).</p>
<p>Another way is using <a href="https://yihui.name/">Yihui</a>&lsquo;s amazing <a href="https://yihui.name/knitr/">knitr</a> package to integrate a plot into a Rmd file.</p>
<h3 id="standalone">Standalone</h3>
<p>To create a standalone TeX file that stores the transformation, one may follows the following the example:<a href="http://www.texample.net/tikz/examples/tikzdevice-demo/">tikzDevice - TikZ output from R</a> on $\TeX$ample.</p>
<h3 id="integrated">Integrated</h3>
<p>knitr provides <a href="https://yihui.name/knitr/options/#plots">various plot options</a>. To use tikzDevice, one may use dev='tikz&rsquo; in R code chunk. For example,</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">```{r plotcos, echo=TRUE, dev=&#39;tikz&#39;}
plot(cos, -pi, 2*pi,
    main=&#34;The graph of cosine generated by tikzDevice and TikZ&#34;
    )
```
</code></pre></div><p>For more sophisticated plots, one may have to modify <a href="https://cran.r-project.org/web/packages/tikzDevice/vignettes/tikzDevice.pdf">options for tikzDevice</a>.</p>
<p>The better way to handle option may be to set globally. With knitr, this can be done by creating a R code chunk at the beginning of the Rmd file. Here is an example (see the blog &ldquo;<a href="https://www.r-bloggers.com/knitr-documents-with-tikzdevice-graphics/">knitr documents with tikzDevice graphics</a>&rdquo; for detail).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">```{r setup}
library(tikzDevice)

options(
    tikzLatexPackages = c(
        &#34;\\usepackage{amsmath,amssymb,amsfonts}&#34;,
        &#34;\\usepackage{tikz}&#34;,
        &#34;\\usepackage{standalone}&#34;,
        &#34;\\usepackage[utf8]{inputenc}&#34;,
        &#34;\\usetikzlibrary{decorations.pathreplacing}&#34;,
        &#34;\\usetikzlibrary{positioning}&#34;,
        &#34;\\usetikzlibrary{shapes.arrows,shapes.symbols}&#34;,
        &#34;\\usetikzlibrary{shapes.callouts}&#34;
    )
)

options(tikzMetricsDictionary=&#34;../tikzMetrics&#34;) # speeds tikz up
```
</code></pre></div><p>It was noticed that the plot option of knitr didn&rsquo;t work well with the tikzAnnotate function of tikzDevice.</p>

</main>

  <footer>
  <script src="//yihui.name/js/math-code.js"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.0.0/es5/latest?tex-mml-chtml.js">
</script>
<script>
    MathJax = {
        tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
        }
    }
</script>
<script async src="//yihui.name/js/center-img.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>

<script>
hljs.configure({languages: ["r","yaml","toml","tex","markdown"]});
</script>

<script src="/js/check-for-tex.js" defer></script>
  
  <hr/>
  © <a href="https://yfei.page">Fei Ye</a> 2019-now | <a href="https://github.com/fyemath">Github</a>
  
  </footer>
  </body>
</html>

